function loadJson(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE)if(200==e.status){var t=JSON.parse(e.responseText).data;createCarousel(t)}else 400==e.status?console.log("There was an error 400"):console.log("something else other than 200 was returned")},e.open("GET","Res/json/search.json",!0),e.send()}function template(arr,html){return arr.map(function(obj){return html.join("").replace(/#\{([\w.]+)\}/g,function(e,t){var a=obj;return t.split(".").reduce(function(e,t){return a=a[t]},"")}).replace(/\$\((.+?)\)/g,function(_,match){return eval(match)})}).join("")}function createCarousel(e){var t=template(e,['<li class="slider-item">','<figure  class="img-container"><img src="#{links.logo}"/></figure>','<div class="textWrapper">','<a class="agent-name" href="javascript:void(0)">#{name}</a>','<span class="location">#{location}</span>','<span class="phone">#{phone}</span>',"</div>",'<div class="table-wrapper properties">','<div class="table-row head">','<div class="table-cell">PROPERTIES</div>','<div class="table-cell">RENT</div>','<div class="table-cell">SALE</div>','<div class="table-cell">TOTAL</div>',"</div>",'<div class="table-row">','<div class="table-cell">RESIDENTIAL</div>','<div class="table-cell">#{residentialForRentCount}</div>','<div class="table-cell">#{residentialForSaleCount}</div>','<div class="table-cell">$(#{residentialForRentCount} + #{residentialForSaleCount})</div>',"</div>",'<div class="table-row">','<div class="table-cell">COMMERCIAL</div>','<div class="table-cell">#{commercialForRentCount}</div>','<div class="table-cell">#{commercialForSaleCount}</div>','<div class="table-cell">$(#{commercialForRentCount} + #{commercialForSaleCount})</div>',"</div>",'<div class="table-row">','<div class="table-cell">TOTAL</div>','<div class="table-cell">$(#{residentialForRentCount} + #{commercialForRentCount})</div>','<div class="table-cell">$(#{residentialForSaleCount} + #{commercialForSaleCount})</div>','<div class="table-cell">$(#{totalProperties})</div>',"</div>","</div>",'<div class="desc">#{description}</div>',"</li>"]),a=template(e,['<a href="javascript:void(0)" class="dot" ></a>']),l=document.querySelector(".slider-wrapper .slider");l.innerHTML=l.innerHTML.concat(t),document.querySelector(".navigation-dots").innerHTML=document.querySelector(".navigation-dots").innerHTML.concat(a),document.querySelector(".ajax-loader").style.display="none",l.style.display="block",slider.init()}function hasClass(e,t){return new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e.className)}function addClass(e,t){hasClass(e,t)||(e.className=e.className.trim().concat(" "+t))}function removeClass(e,t){e.className=e.className.trim().split(" ").removeByValue(t).join(" ").trim()}function removeClassStartsWith(e,t){e.className=e.className.trim().split(" ").removeBySubString(t).join(" ").trim()}!function(){loadJson()}();var slider=function(){var e,t,a,l,s,i,r=function(){e=document.querySelector(".slider-wrapper"),t=e.querySelector(".slider"),a=t.querySelectorAll(".slider-item"),l=e.querySelector(".prev-arrow"),s=e.querySelector(".arrow.next-arrow"),i=e.querySelectorAll(".dot"),o(),setTimeout(function(){c(0)},100)},n=function(){var e=0;return Array.prototype.slice.call(a).every(function(t,a){return/(?:^|\s)active(?:\s|$)/.test(t.className)?(e=a,!1):!0}),e},o=function(){l.addEventListener("click",function(e){if(e.preventDefault(),hasClass(this,"disable"))return!1;var t=n();c(t-1)},!1),s.addEventListener("click",function(e){if(e.preventDefault(),!hasClass(this,"disable")){var t=n();c(t+1)}},!1),Array.prototype.forEach.call(i,function(e){e.addEventListener("click",function(e){e.preventDefault(),c(Array.prototype.indexOf.call(i,e.target))},!1)})},c=function(e){var r=n();removeClass(t,"slide-"+r),addClass(t,"slide-"+e),removeClass(a[r],"active"),addClass(a[e],"active"),removeClass(i[r],"active"),addClass(i[e],"active"),0==e?(addClass(l,"disable"),removeClass(s,"disable")):e==a.length-1?(removeClass(l,"disable"),addClass(s,"disable")):(removeClass(l,"disable"),removeClass(s,"disable")),t.style.height=0==e?a[e].offsetHeight+100+"px":a[e].offsetHeight+40+"px"};return{init:r,gotoSlide:c}}(),timer,$slider=document.querySelector(".slider-wrapper .slider");window.onresize=function(e){clearTimeout(timer),timer=setTimeout(function(){$slider.style.height=$slider.querySelector(".slider-item.active").offsetHeight+40+"px"},100)},Array.prototype.removeByValue=function(e){return-1!=this.indexOf(e)&&this.splice(this.indexOf(e),1),this},Array.prototype.removeBySubString=function(e){return this.map(function(t){return new RegExp("^"+e).test(className)?"":t})};